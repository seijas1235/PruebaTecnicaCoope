-- BASE DE DATOS
CREATE DATABASE Prueba_tecnica_coope;
USE  Prueba_tecnica_coope;

--TABLAS

--TECNICO
CREATE TABLE TECNICO(
ID INTEGER NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(50),
APELLIDO VARCHAR(50),
TELEFONO VARCHAR(10),
CORREO VARCHAR(50),
PRIMARY KEY(ID)
);

--ESTADO_SERVICIO
CREATE TABLE ESTADO_SERVICIO(
ID INTEGER NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(50),
PRIMARY KEY(ID)
);

--CLIENTE
CREATE TABLE CLIENTE(
ID INTEGER NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(50),
APELLIDO VARCHAR(50),
TELEFONO VARCHAR(10),
CORREO VARCHAR(50),
PRIMARY KEY(ID)
);

--TIPO_EQUIPO
CREATE TABLE TIPO_EQUIPO(
ID INTEGER NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(50),
PRIMARY KEY(ID)
);


--EQUIPO
CREATE TABLE EQUIPO(
ID INTEGER NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(50),
OBSERVACIONES VARCHAR(500),
ID_TIPO_EQUIPO INTEGER NOT NULL,
ID_CLIENTE INTEGER NOT NULL,
PRIMARY KEY(ID),
FOREIGN KEY (ID_TIPO_EQUIPO) REFERENCES TIPO_EQUIPO(ID),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID)
);

--SERVICIO
CREATE TABLE SERVICIO(
ID INTEGER NOT NULL AUTO_INCREMENT,
FECHA DATETIME,
PROBLEMA VARCHAR(500),
DIAGNOSTICO VARCHAR(500),
SOLUCION VARCHAR(500),
ID_EQUIPO INTEGER NOT NULL,
ID_TECNICO INTEGER NOT NULL,
ID_ESTADO_SERVICIO INTEGER NOT NULL,
PRIMARY KEY(ID),
FOREIGN KEY(ID_EQUIPO) REFERENCES EQUIPO(ID),
FOREIGN KEY(ID_TECNICO) REFERENCES TECNICO(ID),
FOREIGN KEY(ID_ESTADO_SERVICIO) REFERENCES ESTADO_SERVICIO(ID)
);



